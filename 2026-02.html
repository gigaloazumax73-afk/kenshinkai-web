<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>2026-02（御講／口唱会／お助行）</title>
<style>
  body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP","Meiryo",sans-serif;margin:20px;line-height:1.5}
  header{display:flex;gap:12px;align-items:baseline;flex-wrap:wrap}
  h1{font-size:20px;margin:0}
  .nav a{margin-right:12px}
  .muted{color:#666;font-size:12px}
  .card{border:1px solid #ddd;border-radius:12px;padding:12px;margin:12px 0}
  .big{font-size:16px;font-weight:700;margin:0 0 8px}
  table{width:100%;border-collapse:collapse}
  th,td{border-bottom:1px solid #eee;padding:8px;text-align:left}
  th{background:#fafafa}
  .w-name{min-width:160px}
  .w-s{min-width:110px}
  code{background:#f6f6f6;padding:2px 6px;border-radius:6px}
</style>
</head>
<body>

<header>
  <h1>2026-02（御講／口唱会／お助行）</h1>
  <div class="nav">
    <a href="./index.html">トップへ</a>
    <a href="./2026-02_santaikai.html">三大会へ</a>
  </div>
</header>
<div class="muted">更新日：2026-02-15</div>
<div class="muted">
  入力ルール：御講 参詣＝<code>参</code>/<code>不</code>、将引＝<code>予定</code>/<code>確認中</code> ／ 口唱会・お助行＝<code>参</code>/<code>不</code>
</div>

<!-- =========================
  松浦班
========================= -->
<div class="card">
  <div class="big">松浦班</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>松浦 文昌（班長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>髙田 雄一</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>大木 龍太郎</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>藤原 靖</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>藤原 治</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>萩原 賢祐</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>関口 誠</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>内山 翔太</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>鶴見 清明</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- =========================
  白木班
========================= -->
<div class="card">
  <div class="big">白木班</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>白木 嘉範（班長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>岸本 征樹</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>大場 広志</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>菊池 征悟</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>小佐井 明人</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>武田 政美</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>高部 陽介</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>高部 恭史</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>藤山 佑一</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- =========================
  藤原班
========================= -->
<div class="card">
  <div class="big">藤原班</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>藤原 護（班長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>鈴木 慶光</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>久保 広孝</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>岩永 隆司</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>千明 英樹</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>山本 大嗣</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>岩井迫 辰彦</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>佐野 憲弘</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- =========================
  森田班
========================= -->
<div class="card">
  <div class="big">森田班</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>森田 和俊（班長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>飯岡 一太</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>本田 剛四郎</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>八幡 義孝</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>那須 正康</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>前田 貴哉</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>前屋敷 翔次郎</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- =========================
  古川班
========================= -->
<div class="card">
  <div class="big">古川班</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>古川 智貴（班長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>佐藤 公一</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>田上 耕太</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>河野 裕太</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>木村 純</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>長島 剛太</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- =========================
  鎌田班
========================= -->
<div class="card">
  <div class="big">鎌田班</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>鎌田 茂郎（班長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>小林 英二</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>佐々木 誠一</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>三野 恒一</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>清水 洋昭</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>中川 猛</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- =========================
  幹部（班外） ※カウント対象
========================= -->
<div class="card">
  <div class="big">幹部（班外）</div>
  <table>
    <thead>
      <tr>
        <th class="w-name">氏名</th>
        <th class="w-s">御講（参/不）</th>
        <th class="w-s">御講（将引）</th>
        <th class="w-s">口唱会（参/不）</th>
        <th class="w-s">お助行（参/不）</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>東 大佑（幹事長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>内山 晶稀（副幹事長）</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>石井 克典（副幹事長）</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
</div>

<!-- ▼ 自動集計（表示枠） -->
<div class="card">
  <div class="big">自動集計（このページ全体）</div>
  <div id="summary"></div>
</div>

<div class="card">
  <div class="big">班別集計</div>
  <div style="overflow:auto">
    <table>
      <thead>
        <tr>
          <th>区分</th>
          <th>御講 参</th><th>御講 不</th><th>御講 未入力</th>
          <th>将引 予定</th><th>将引 確認中</th><th>将引 未入力</th>
          <th>口唱会 参</th><th>口唱会 不</th><th>口唱会 未入力</th>
          <th>お助行 参</th><th>お助行 不</th><th>お助行 未入力</th>
        </tr>
      </thead>
      <tbody id="byGroup"></tbody>
    </table>
  </div>
</div>

<script>
function norm(s){ return (s||"").replace(/\s+/g,""); }
function inc(obj,key){ obj[key]=(obj[key]||0)+1; }

function countCell(v, yes, no){
  v = norm(v);
  if(v===yes) return "yes";
  if(v===no)  return "no";
  return "blank";
}
function countCell2(v, a, b){
  v = norm(v);
  if(v===a) return "a";
  if(v===b) return "b";
  return "blank";
}

function run(){
  const cards = Array.from(document.querySelectorAll(".card"));
  const groups = {};

  for(const card of cards){
    const titleEl = card.querySelector(".big");
    const table = card.querySelector("table");
    if(!titleEl || !table) continue;

    const group = norm(titleEl.textContent);
    if(group.includes("自動集計") || group.includes("班別集計")) continue;

    const rows = Array.from(table.querySelectorAll("tbody tr"));
    if(rows.length===0) continue;

    if(!groups[group]) groups[group] = {
      gokou_yes:0,gokou_no:0,gokou_blank:0,
      syouin_yotei:0,syouin_kakunin:0,syouin_blank:0,
      koshokai_yes:0,koshokai_no:0,koshokai_blank:0,
      jogyou_yes:0,jogyou_no:0,jogyou_blank:0,
      total_rows:0
    };

    for(const tr of rows){
      const tds = tr.querySelectorAll("td");
      if(tds.length < 5) continue;

      groups[group].total_rows++;

      const gok = countCell(tds[1].textContent, "参", "不");
      if(gok==="yes") inc(groups[group],"gokou_yes");
      else if(gok==="no") inc(groups[group],"gokou_no");
      else inc(groups[group],"gokou_blank");

      const sy = countCell2(tds[2].textContent, "予定", "確認中");
      if(sy==="a") inc(groups[group],"syouin_yotei");
      else if(sy==="b") inc(groups[group],"syouin_kakunin");
      else inc(groups[group],"syouin_blank");

      const ko = countCell(tds[3].textContent, "参", "不");
      if(ko==="yes") inc(groups[group],"koshokai_yes");
      else if(ko==="no") inc(groups[group],"koshokai_no");
      else inc(groups[group],"koshokai_blank");

      const jo = countCell(tds[4].textContent, "参", "不");
      if(jo==="yes") inc(groups[group],"jogyou_yes");
      else if(jo==="no") inc(groups[group],"jogyou_no");
      else inc(groups[group],"jogyou_blank");
    }
  }

  const total = {
    gokou_yes:0,gokou_no:0,gokou_blank:0,
    syouin_yotei:0,syouin_kakunin:0,syouin_blank:0,
    koshokai_yes:0,koshokai_no:0,koshokai_blank:0,
    jogyou_yes:0,jogyou_no:0,jogyou_blank:0,
    total_rows:0
  };
  for(const g of Object.values(groups)){
    for(const k in total) total[k]+= (g[k]||0);
  }

  const s = document.getElementById("summary");
  if(s){
    s.innerHTML = `
      <div>対象人数：<b>${total.total_rows}</b></div>
      <div>御講：参 <b>${total.gokou_yes}</b> ／ 不 <b>${total.gokou_no}</b> ／ 未入力 <b>${total.gokou_blank}</b></div>
      <div>御講 将引：予定 <b>${total.syouin_yotei}</b> ／ 確認中 <b>${total.syouin_kakunin}</b> ／ 未入力 <b>${total.syouin_blank}</b></div>
      <div>口唱会：参 <b>${total.koshokai_yes}</b> ／ 不 <b>${total.koshokai_no}</b> ／ 未入力 <b>${total.koshokai_blank}</b></div>
      <div>お助行：参 <b>${total.jogyou_yes}</b> ／ 不 <b>${total.jogyou_no}</b> ／ 未入力 <b>${total.jogyou_blank}</b></div>
    `;
  }

  const tbody = document.getElementById("byGroup");
  if(tbody){
    const names = Object.keys(groups);
    tbody.innerHTML = names.map(name=>{
      const g = groups[name];
      return `<tr>
        <td>${name}</td>
        <td>${g.gokou_yes}</td><td>${g.gokou_no}</td><td>${g.gokou_blank}</td>
        <td>${g.syouin_yotei}</td><td>${g.syouin_kakunin}</td><td>${g.syouin_blank}</td>
        <td>${g.koshokai_yes}</td><td>${g.koshokai_no}</td><td>${g.koshokai_blank}</td>
        <td>${g.jogyou_yes}</td><td>${g.jogyou_no}</td><td>${g.jogyou_blank}</td>
      </tr>`;
    }).join("");
  }
}
document.addEventListener("DOMContentLoaded", run);
</script>

</body>
</html>
